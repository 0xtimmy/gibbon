
% This varies by conference, sometimes 9pt:
\documentclass[preprint,10pt]{./bibs/sigplanconf}
% The following \documentclass options may be useful:
%
% 10pt          To set in 10-point type instead of 9-point.
% 11pt          To set in 11-point type instead of 9-point.
% authoryear    To obtain author/year citation style instead of numeric.


%% Common packages we use:

%% This is our standard package for code formatting:
\usepackage{listings}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{hyperref}
\usepackage{graphicx}
% \usepackage{mathabx}
% \usepackage{mathpartir}

\usepackage[noabbrev]{cleveref}
\usepackage{enumitem}

\newcommand{\gramdef}{\; ::= \;}
\newcommand{\gramor}{\; | \;}
\newcommand{\keywd}[1]{\; \texttt{#1} \;}

%----------------------------------------
%% \usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
%% \usepackage{xargs}
%% \newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
%% \newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
%% \newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
%% \newcommandx{\inconsistent}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=red,#1]{#2}}
%% \newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
%% \newcommandx{\resolved}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}} % use this to mark a resolved question
%% \newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}} % will replace \resolved in the final document
% ----------------------------------------


% Copy this if needed to customize:
\input{./bibs/latex_templates/editingmarks}

% If we are using Haskell code in this paper:
\input{./bibs/latex_templates/haskell_style}

% Sometimes we have extra short-cuts:
% \input{macro-defs}

% Sometimes we factor large figures into commands in a separate file:
% \input{figures}

\begin{document}

\special{papersize=8.5in,11in}
\setlength{\pdfpageheight}{\paperheight}
\setlength{\pdfpagewidth}{\paperwidth}

\conferenceinfo{CONF 'yy}{Month d--d, 20yy, City, ST, Country}
\copyrightyear{20yy}
\copyrightdata{978-1-nnnn-nnnn-n/yy/mm}
\copyrightdoi{nnnnnnn.nnnnnnn}

% Uncomment the publication rights you want to use.
%\publicationrights{transferred}
%\publicationrights{licensed}     % this is the default
%\publicationrights{author-pays}

\titlebanner{banner above paper title}        % These are ignored unless
\preprintfooter{short description of paper}   % 'preprint' option specified.

\title{Compiling tree transformations on packed representations}
\subtitle{Faster compiler passes, parallelization ready}

%% \authorinfo{Name1}
%%            {Affiliation1}
%%            {Email1}
%% \authorinfo{Name2\and Name3}
%%            {Affiliation2/3}
%%            {Email2/3}

\maketitle

\begin{abstract}
This is the text of the abstract.
\end{abstract}

\category{CR-number}{subcategory}{third-level}

% general terms are not compulsory anymore,
% you may leave them out
\terms
term1, term2

\keywords
keyword1, keyword2

% ================================================================================
\section{Introduction}
% ================================================================================

The text of the paper begins here.

\rn{This is an example peanut-gallery comment.}

\note{We use these bullets for outlining / psuedo-text.  They're removed when
  converted to actual prose.}


% ================================================================================
\section{Background}
% ================================================================================


% ================================================================================
\section{Formal language}
% ================================================================================

\note{The calculus, plus the core lowering transforms in figures.}

We present two languages: L1, a simple purely functional, first-order programming
language with algebraic data types; and L2, an imperative programming language
with mutable arrays and pointer arithmetic, as well as a type-and-effect system.

\subsection{L1: Source language}

\subsection{L2: Target language}

\begin{displaymath}
  v \in Var \\
  n \in Int \\
  \begin{aligned}
    \keywd{x} \gramdef & \keywd{n} \gramor \gramor{v} \\
    \keywd{e} \gramdef & \keywd{i} \gramor \keywd{prim} \keywd{x}* \\
    \gramor \keywd{(x,x,...)} \gramor \keywd{x} @ \keywd{n} \\
    \gramor \keywd{let} \keywd{(v,t,e)}* \keywd{e} \\
    \gramor \keywd{ifeq} \keywd{(x,x)} \keywd{e} \keywd{e} \\
    \gramor \keywd{newbuff} n \\
    \gramor \keywd{writetag} \keywd{v} \keywd{n} \\
    \gramor \keywd{writeint} \keywd{v} \keywd{x} \\
    \gramor \keywd{readtag} \keywd{v} \\
    \gramor \keywd{readint} \keywd{v}
  \end{aligned}
\end{displaymath}


% ================================================================================
\section{Implementation}
% ================================================================================



% ================================================================================
\section{Evaluation}
% ================================================================================



\subsection{Additional tree benchmarks}
% ----------------------------------------

\note{Non-compiler benchmark(s)}


% ================================================================================
\section{Future work}
% ================================================================================

\note{Data type factoring, storing leaves in a separate, dense, aligned vector.
This enables (1) vectorization of numeric operations, and (2) separating
out pointers that the GC must traverse.  This can prove essential for an
open-world implementation in a managed language.}



% ================================================================================
\appendix
\section{Appendix Title}
% ================================================================================

This is the text of the appendix, if you need one.

\acks

Acknowledgments, if needed.

\bibliographystyle{abbrvnat}

% If you can't commit to the submodule right this second, just copy
% this file to ./refs.bib :
\bibliography{bibs/refs}

% The bibliography should be embedded for final submission.
%% \begin{thebibliography}{}
%% \softraggedright
%% \bibitem[Smith et~al.(2009)Smith, Jones]{smith02}
%% P. Q. Smith, and X. Y. Jones. ...reference text...
%% \end{thebibliography}


\end{document}


